#:import ran random.random

<Columnas>:
    orientation: "vertical"
    Menu:
        id: menu

<Menu>:
    borrar: boton_borrar
    compartir: boton_compart

    orientation: "vertical"
    size_hint: 1, None
    height: 40
    canvas:
        Color:
            rgba: ran(), ran(), ran(), 0.6
        Rectangle:
            pos: self.pos
            size: self.size
    Button:
        id: boton_borrar
        text: "Borrar"
        size_hint: None, 1
        width: 100
        on_press: root.borrar_click()
    Button:
        id: boton_compart
        text: "Compartir"
        size_hint: None, 1
        width: 100
        on_press: root.compartir_click()

<Scrolling>:
    size_hint: 1, 1

<Contenedor>:
    orientation: "horizontal"

<ContenedorAssets>:
    cols: 1
    size_hint: 1, None

<Encabezado>:
    # vinculacion entre el id y el ObjectProperty
    exit: exit_id
    reload: reload_id
    check: check_id

    orientation: "horizontal"
    size_hint: 1, None
    # height: 30
    # height: lab_enc.height
    height: lab_enc.height if lab_enc.height > 30 else 30
    CheckBox:
        id: check_id
        size_hint: None, 1
        width: 20
    Label:
        id: lab_enc
        text: root.texto
        font_size: 14
        size_hint: 0.8, 1
        text_size: self.width, None
        height: self.texture_size[1]
    Button:
        id: reload_id
        text: "reload"
        font_size: 12
        size_hint: None, None
        width: 50
        height: 25
        valign: "center"
    Button:
        id: exit_id
        text: "x"
        font_size: 20
        size_hint: None, None
        width: 20
        height: 25
        valign: "center"
        on_press: root.cerrar(self)

<Filas>:
    orientation: "horizontal"
    size_hint: 1, None
    height: 30
    boton: label_fila
    size: label_fila.size
    CheckBox:
        id: check_fila
        size_hint: None, 1
        width: 20
    Button:
        id: label_fila
        text: root.texto
        background_color: root.color_fondo
        color: 1, 1, 1, 1
        halign: "left"

        # WRAPPING
        size_hint: 1, None
        text_size: root.width-check_fila.width, None
        height: self.texture_size[1] + 10
        # size: self.texture_size[0]+10, self.texture_size[1]+10

        # on_release: print "textura:", self.texture_size, ",tam boton:", self.size, "text_size:", self.text_size, "root.size:", root.size

<Error>:
    orientation: "vertical"
    Button:
        text: "Salir"
        size_hint: 0.1, 0.1
        halign: "center"

<Principal>:
    orientation: "vertical"
    Logger:
        id: box_log

<Logger>:
    # BoxLayout
    orientation: "horizontal"
    size_hint: 1, None
    height: 100
    ScrollView:
        size_hint: 0.5, 1
        canvas.before:
            Color:
                rgba: 0.1,0,0,0.1
            Rectangle:
                size: self.size
                pos: self.pos
        ScrollView:
            size_hint: 1, 1
            Label:
                id: logger
                size_hint: 1, None
                text: root.texto
                halign: "left"
    BoxLayout:
        id: log_action
        size_hint: 0.5, None
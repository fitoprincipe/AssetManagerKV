#:import ran random.random

<Column>:
    # BoxLayout
    orientation: "vertical"
    Menu:
        id: menu

<Menu>:
    delete: delete_button
    share: share_button

    orientation: "vertical"
    size_hint: 1, None
    height: 40
    canvas:
        Color:
            rgba: ran(), ran(), ran(), 0.6
        Rectangle:
            pos: self.pos
            size: self.size
    Button:
        id: delete_button
        text: "Delete"
        size_hint: None, 1
        width: 100
        on_press: root.click_delete()
    Button:
        id: share_button
        text: "Share"
        size_hint: None, 1
        width: 100
        on_press: root.click_share()

<Scrolling>:
    size_hint: 1, 1

<Container>:
    # BoxLayout
    orientation: "horizontal"

<AssetsContainer>:
    cols: 1
    size_hint: 1, None

<Header>:
    # sync between id and ObjectProperty
    exit: exit_id
    reload: reload_id
    check: check_id

    orientation: "horizontal"
    size_hint: 1, None
    # height: 30
    # height: lab_enc.height
    height: header_label.height if header_label.height > 30 else 30
    CheckBox:
        id: check_id
        size_hint: None, 1
        width: 20
    Label:
        id: header_label
        text: root.text
        font_size: 14
        size_hint: 0.8, 1
        text_size: self.width, None
        height: self.texture_size[1]
    Button:
        id: reload_id
        text: "reload"
        font_size: 12
        size_hint: None, None
        width: 50
        height: 25
        valign: "center"
    Button:
        id: exit_id
        text: "x"
        font_size: 20
        size_hint: None, None
        width: 20
        height: 25
        valign: "center"
        on_press: root.close(self)

<Row>:
    orientation: "horizontal"
    size_hint: 1, None
    height: 30
    button: row_label
    size: row_label.size
    CheckBox:
        id: check_row
        size_hint: None, 1
        width: 20
    Button:
        id: row_label
        text: root.text
        background_color: root.background_color
        color: 1, 1, 1, 1
        halign: "left"
        on_release: root.add_column()

        # WRAPPING
        size_hint: 1, None
        text_size: root.width-check_row.width, None
        height: self.texture_size[1] + 10
        # size: self.texture_size[0]+10, self.texture_size[1]+10

        # on_release: print "textura:", self.texture_size, ",tam boton:", self.size, "text_size:", self.text_size, "root.size:", root.size

<Error>:
    orientation: "vertical"
    Button:
        text: "Exit"
        size_hint: 0.1, 0.1
        halign: "center"

<GlobalContainer>:
    orientation: "vertical"
    Logger:
        id: box_log

<Logger>:
    # BoxLayout
    orientation: "horizontal"
    size_hint: 1, None
    height: 100
    ScrollView:
        size_hint: 0.5, 1
        canvas.before:
            Color:
                rgba: 0.1, 0, 0, 0.1
            Rectangle:
                size: self.size
                pos: self.pos
        ScrollView:
            size_hint: 1, 1
            Label:
                id: logger
                size_hint: 1, None
                text: root.text
                halign: "left"
    BoxLayout:
        id: log_action
        size_hint: 0.5, None